import{S as u}from"./spreadsheet-Cw6eT9QM.js";const y={id:{type:"number",decimal:!1,label:"ID"},name:{type:"text",required:!0,maxlength:20,label:"Full Name"},email:{type:"email",required:!0,label:"Email Address"},dob:{type:"date",label:"Date of Birth",formatter:e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}):null},locationId:{type:"select",label:"Location",values:[{id:1,name:"New York"},{id:2,name:"London"},{id:3,name:"Tokyo"},{id:4,name:"Paris"},{id:5,name:"Sydney"},{id:6,name:"Berlin"},{id:7,name:"Cairo"},{id:8,name:"Rio de Janeiro"},{id:9,name:"Moscow"},{id:10,name:"Beijing"}],disabled:e=>e.isRestricted&&e.locationId===1},isRestricted:{type:"boolean",label:"Restricted"},salary:{type:"number",label:"Salary"},notes:{type:"text",label:"Notes"}};function g(e){return Array.from({length:e},(o,i)=>({id:i+1,name:`Person ${i+1}`,email:`person${i+1}@example.com`,dob:Math.random()<.5?null:new Date(Math.floor(Math.random()*1e10)).toISOString().split("T")[0],locationId:Math.random()<.5?null:Math.floor(Math.random()*10)+1,isRestricted:Math.random()<.5,salary:Math.floor(Math.random()*1e5)+5e4,notes:`Notes for Person ${i+1}`}))}const m=window.location.search.includes("bigdata")?g(2e4):[{id:1,name:"Alice Johnson",email:"alice@example.com",dob:"1990-05-15",locationId:1,isRestricted:!1,salary:75e3,notes:"Team Lead"},{id:2,name:"Bob Smith",email:"bob@sample.net",dob:"1985-11-22",locationId:null,isRestricted:!0,salary:12e4,notes:"Senior Developer"},{id:3,name:"Charlie Brown",email:"charlie@testing.org","error:email":"User does not exist",dob:"1998-02-10",locationId:2,isRestricted:!1,salary:55e3,notes:""},{id:4,name:"Diana Prince",email:"diana@example.com",dob:"1980-08-08",locationId:5,isRestricted:!1,salary:95e3,notes:"Project Manager"},{id:5,name:"Ethan Hunt",email:"ethan@sample.net",dob:"1992-07-19",locationId:1,isRestricted:!0,salary:88e3,notes:"Needs access review"},{id:6,name:"Fiona Gallagher",email:"fiona@testing.org",dob:"1995-03-30",locationId:4,isRestricted:!1,salary:62e3,notes:"Junior Staff"},{id:7,name:"George Costanza",email:"george@example.com",dob:"1975-12-01",locationId:1,isRestricted:!1,salary:4e4,notes:"Part-time consultant"},{id:8,name:"Hannah Abbott",email:"hannah@sample.net",dob:"2000-01-25",locationId:2,isRestricted:!1,salary:58e3,notes:null},{id:9,name:"Ian Malcolm",email:"ian@testing.org",dob:"1978-09-14",locationId:7,isRestricted:!0,salary:15e4,notes:"Consultant - High Risk"},{id:10,name:"Jane Doe",email:"jane@example.com",dob:"1993-06-05",locationId:8,isRestricted:!1,salary:72e3,notes:"Standard user"},{id:11,name:"Kyle Broflovski",email:"kyle@sample.net",dob:"1999-05-26",locationId:9,isRestricted:!1,salary:68e3,notes:""},{id:12,name:"Laura Palmer",email:"laura@testing.org",dob:"1988-07-22",locationId:10,isRestricted:!0,salary:11e4,notes:"Requires monitoring"},{id:13,name:"Michael Scott",email:"michael@example.com",dob:"1970-03-15",locationId:1,isRestricted:!1,salary:85e3,notes:"Regional Manager"},{id:14,name:"Nadia Petrova",email:"nadia@sample.net",dob:"1982-11-08",locationId:9,isRestricted:!0,salary:13e4,notes:"Security clearance needed"},{id:15,name:"Oscar Martinez",email:"oscar@testing.org",dob:"1984-01-12",locationId:1,isRestricted:!1,salary:78e3,notes:"Accountant"},{id:16,name:"Pam Beesly",email:"pam@example.com",dob:"1989-03-25",locationId:1,isRestricted:!1,salary:6e4,notes:"Receptionist"},{id:17,name:"Quentin Coldwater",email:"quentin@sample.net",dob:"1996-09-01",locationId:3,isRestricted:!1,salary:65e3,notes:""},{id:18,name:"Rachel Green",email:"rachel@testing.org",dob:"1987-05-05",locationId:1,isRestricted:!1,salary:7e4,notes:"Fashion Buyer"},{id:19,name:"Steve Rogers",email:"steve@example.com",dob:"1920-07-04",locationId:1,isRestricted:!0,salary:2e5,notes:"Special Project"},{id:20,name:"Tony Stark",email:"tony@sample.net",dob:"1970-05-29",locationId:1,isRestricted:!0,salary:5e5,notes:"CEO - Restricted Access"},{id:21,name:"Ursula Buffay",email:"ursula@testing.org",dob:"1987-05-05",locationId:1,isRestricted:!1,salary:45e3,notes:"Waitress"},{id:22,name:"Victor Frankenstein",email:"victor@example.com",dob:"1790-10-10",locationId:6,isRestricted:!0,salary:99e3,notes:"Research - Confidential"},{id:23,name:"Wendy Darling",email:"wendy@sample.net",dob:"1900-01-01",locationId:2,isRestricted:!1,salary:52e3,notes:""},{id:24,name:"Xavier Thorpe",email:"xavier@testing.org",dob:"2002-04-18",locationId:4,isRestricted:!1,salary:61e3,notes:"Artist"},{id:25,name:"Yvonne Strahovski",email:"yvonne@example.com",dob:"1982-07-30",locationId:5,isRestricted:!0,salary:14e4,notes:"Agent - Top Secret"},{id:26,name:"Zachary Levi",email:"zachary@sample.net",dob:"1980-09-29",locationId:1,isRestricted:!1,salary:1e5,notes:"Actor"}];function r(e){document.getElementById("data-size").textContent=e.toString()}let n=null;function d(e){const o=document.getElementById("modal-container");e?o.classList.remove("hidden"):o.classList.add("hidden")}function I(e){n={...e};const o=document.getElementById("date-picker");o.value=e.rowData[e.colKey],d(!0),setTimeout(()=>{o.focus(),o.showPicker()},100)}document.addEventListener("DOMContentLoaded",()=>{var o,i,s,c;r(m.length);let e=null;try{e=new u("spreadsheet-container",y,m,{selectedRowBgColor:"#e0e7ff",onCellsUpdate:a=>{for(const t of a)t.columnKeys.includes("email")&&t.data.email&&t.data.email.endsWith("@sample.net")&&(e==null||e.updateCell({rowIndex:t.rowIndex,colKey:"loading:email",value:!0}),setTimeout(()=>{e==null||e.updateCell({rowIndex:t.rowIndex,colKey:"loading:email",value:null}),e==null||e.updateCell({rowIndex:t.rowIndex,colKey:"error:email",value:`Account ${t.data.email} does not exist`});const l=e==null?void 0:e.getSelectedCell();(l==null?void 0:l.row)===t.rowIndex&&l.colKey==="email"&&(document.getElementById("error-container").textContent=`Account ${t.data.email} does not exist`)},2e3))},onCellSelected:({rowData:a,colKey:t})=>{document.getElementById("error-container").textContent=a[`error:${t}`]||""},onRowDeleted:a=>{r((e==null?void 0:e.rowCount)||0),console.log("deleted rows",a)},customDatePicker:!0,onEditorOpen:a=>{I(a)},verbose:!0}),setTimeout(async()=>{console.log("data",await(e==null?void 0:e.getData()))},2e3)}catch(a){console.error("Failed to initialize spreadsheet:",a);const t=document.getElementById("spreadsheet-container");t&&(t.innerHTML=`<p class="p-4 text-red-600">Error initializing spreadsheet: ${a instanceof Error?a.message:"Unknown error"}</p>`)}(o=document.getElementById("add-row"))==null||o.addEventListener("click",()=>{const a=e==null?void 0:e.addRow();r((a||0)+1)}),(i=document.getElementById("add-column"))==null||i.addEventListener("click",()=>{e==null||e.addColumn("new-column",{type:"text",label:"New Column"})}),(s=document.getElementById("save-modal"))==null||s.addEventListener("click",()=>{d(!1);const a=document.getElementById("date-picker");console.log("datePicker",a.value),setTimeout(()=>{n&&(e==null||e.setValueFromCustomEditor({rowIndex:n.rowIndex,colKey:n.colKey,value:a.value}),n=null)},100)}),(c=document.getElementById("close-modal"))==null||c.addEventListener("click",()=>{d(!1),n&&(e==null||e.deactivateCustomEditor({rowIndex:n.rowIndex,colKey:n.colKey}),n=null)})});
